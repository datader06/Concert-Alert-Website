# Environment Variables Reference

## Backend (.env)

```bash
# Server Configuration
PORT=5000
NODE_ENV=development
FRONTEND_URL=http://localhost:3000

# Security
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production

# Database
DATABASE_PATH=./db/spotify_clone.db

# API Configuration
API_BASE_URL=http://localhost:5000

# ========== External APIs ==========

# Last.fm API (Artist Metadata)
# Get free key: https://www.last.fm/api/account/create
LASTFM_API_KEY=your_lastfm_api_key
LASTFM_API_URL=http://ws.audioscrobbler.com/2.0/

# Ticketmaster API (Concert/Event Data)
# Get free key: https://developer.ticketmaster.com/
TICKETMASTER_API_KEY=your_ticketmaster_api_key
TICKETMASTER_API_URL=https://app.ticketmaster.com/discovery/v2

# Songkick API (Alternative Concert Source)
# Get free key: https://www.songkick.com/developer
SONGKICK_API_URL=https://api.songkick.com/api/3.0
SONGKICK_API_KEY=your_songkick_api_key

# Geolocation
# Using geonames for city/country lookup
GEONAMES_USERNAME=demo
GEONAMES_URL=http://api.geonames.org

# ========== Database (For Production) ==========
# Currently using SQLite, but can migrate to PostgreSQL

# PostgreSQL Example:
# DATABASE_URL=postgresql://user:password@localhost:5432/spotify_clone

# MongoDB Example:
# MONGODB_URI=mongodb://localhost:27017/spotify_clone

# ========== Notifications (Future) ==========
# SMTP for email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=noreply@spotifyclone.com

# ========== Logging & Monitoring (Future) ==========
# Sentry for error tracking
SENTRY_DSN=https://your_sentry_dsn

# Datadog for monitoring
DATADOG_API_KEY=your_datadog_key

# Winston for logging
LOG_LEVEL=debug
LOG_FILE=./logs/app.log

# ========== Cache (Future) ==========
# Redis for caching
REDIS_URL=redis://localhost:6379

# ========== Rate Limiting (Future) ==========
RATE_LIMIT_WINDOW=15  # minutes
RATE_LIMIT_MAX_REQUESTS=100  # per window

# ========== Session (Future) ==========
SESSION_SECRET=your_session_secret
SESSION_EXPIRY=7  # days
```

## Frontend (.env)

```bash
# API Configuration
REACT_APP_API_URL=http://localhost:5000/api

# Build Configuration
GENERATE_SOURCEMAP=false

# Optional Analytics
# REACT_APP_ANALYTICS_ID=your_analytics_id
```

## Quick Setup Commands

```bash
# Backend - Initialize variables
cd backend
cp .env.example .env
# Edit .env with your API keys

# Frontend - Initialize variables
cd ../frontend
echo "REACT_APP_API_URL=http://localhost:5000/api" > .env.local

# Database - Initialize
cd ../backend
node db/initDb.js

# Install all dependencies
npm install
cd ../frontend
npm install

# Start development
# Terminal 1 - Backend
cd backend
npm start

# Terminal 2 - Frontend
cd frontend
npm start
```

## Getting Free API Keys

### 1. Last.fm API (Artist Metadata)
1. Go to https://www.last.fm/api
2. Click "Get API Account"
3. Fill in the form
4. Get your API Key
5. No authentication needed, just add to .env

### 2. Ticketmaster API (Concerts)
1. Go to https://developer.ticketmaster.com/
2. Sign up for free
3. Create an application
4. Get your API key
5. Add to .env

### 3. Songkick API (Alternative)
1. Go to https://www.songkick.com/developer/
2. Register for API access
3. Get your API key
4. Add to .env (if using)

## Security Best Practices

```bash
# ✅ DO:
LASTFM_API_KEY=abc123def456ghi789

# ❌ DON'T:
# Don't commit .env to git
# Don't share API keys publicly
# Don't use same password/key everywhere
# Don't expose JWT_SECRET in logs

# ✅ Production: Use environment management
# - GitHub Secrets
# - AWS Secrets Manager
# - Heroku Config Vars
# - Docker Secrets
```

## Environment by Stage

### Development
```bash
NODE_ENV=development
JWT_SECRET=dev_secret_change_this
API_BASE_URL=http://localhost:5000
LASTFM_API_KEY=your_api_key
```

### Staging
```bash
NODE_ENV=staging
JWT_SECRET=staging_secret_change_this
API_BASE_URL=https://staging-api.example.com
LASTFM_API_KEY=your_api_key
```

### Production
```bash
NODE_ENV=production
JWT_SECRET=use_strong_random_key_here
API_BASE_URL=https://api.example.com
FRONTEND_URL=https://example.com
# Use managed secrets, never commit
```

## Validating Environment Setup

```bash
# Check backend environment
cd backend
node -e "require('dotenv').config(); console.log({
  PORT: process.env.PORT,
  JWT_SECRET: '✓' if process.env.JWT_SECRET,
  LASTFM_KEY: '✓' if process.env.LASTFM_API_KEY,
  TICKETMASTER_KEY: '✓' if process.env.TICKETMASTER_API_KEY
})"

# Check frontend environment
cd frontend
echo "REACT_APP_API_URL: $REACT_APP_API_URL"
```

## Notes

- All API keys are **free tier** - no credit card required
- Never commit `.env` files to version control (use `.gitignore`)
- Rotate keys regularly in production
- Use different keys for development and production
- Add `.env` to `.gitignore` before committing
